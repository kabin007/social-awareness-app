{"ast":null,"code":"var _jsxFileName = \"/home/kabin/Desktop/social-awareness-app/frontend/src/components/auth/Login.js\",\n  _s = $RefreshSig$();\nimport { Alert, AlertDescription } from \"../ui/alert\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onClose\n}) => {\n  _s();\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      setError('');\n      const response = await axios.post('http://localhost:5000/api/login', loginData);\n\n      // Store the token in localStorage\n      localStorage.setItem('token', response.data.token);\n\n      // Store user info if needed\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n\n      // Optional: Set Authorization header for future requests\n      axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`;\n\n      // Close the dialog\n      onClose();\n\n      // Redirect to home page or dashboard\n      navigate('/');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Login failed. Please check your credentials.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleLogin,\n    className: \"space-y-4\",\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"destructive\",\n      children: /*#__PURE__*/_jsxDEV(AlertDescription, {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      placeholder: \"Email\",\n      className: \"w-full p-2 border rounded\",\n      value: loginData.email,\n      onChange: e => setLoginData({\n        ...loginData,\n        email: e.target.value\n      }),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      className: \"w-full p-2 border rounded\",\n      value: loginData.password,\n      onChange: e => setLoginData({\n        ...loginData,\n        password: e.target.value\n      }),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"w-full p-2 bg-blue-600 text-white rounded disabled:bg-blue-400\",\n      disabled: isLoading,\n      children: isLoading ? 'Logging in...' : 'Login'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"bnUPBb1keYhALyJ3W05PuQ0ceyE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Alert","AlertDescription","React","useState","axios","useNavigate","jsxDEV","_jsxDEV","Login","onClose","_s","loginData","setLoginData","email","password","error","setError","isLoading","setIsLoading","navigate","handleLogin","e","preventDefault","response","post","localStorage","setItem","data","token","JSON","stringify","user","defaults","headers","common","_error$response","_error$response$data","message","onSubmit","className","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","target","required","disabled","_c","$RefreshReg$"],"sources":["/home/kabin/Desktop/social-awareness-app/frontend/src/components/auth/Login.js"],"sourcesContent":["import { Alert, AlertDescription } from \"../ui/alert\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Login = ({ onClose }) => {\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setIsLoading(true);\n      setError('');\n      \n      const response = await axios.post('http://localhost:5000/api/login', loginData);\n      \n      // Store the token in localStorage\n      localStorage.setItem('token', response.data.token);\n      \n      // Store user info if needed\n      localStorage.setItem('user', JSON.stringify(response.data.user));\n      \n      // Optional: Set Authorization header for future requests\n      axios.defaults.headers.common['Authorization'] = `Bearer ${response.data.token}`;\n      \n      // Close the dialog\n      onClose();\n      \n      // Redirect to home page or dashboard\n      navigate('/');\n      \n    } catch (error) {\n      setError(error.response?.data?.message || 'Login failed. Please check your credentials.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleLogin} className=\"space-y-4\">\n      {error && (\n        <Alert variant=\"destructive\">\n          <AlertDescription>{error}</AlertDescription>\n        </Alert>\n      )}\n      <input\n        type=\"email\"\n        placeholder=\"Email\"\n        className=\"w-full p-2 border rounded\"\n        value={loginData.email}\n        onChange={(e) => setLoginData({...loginData, email: e.target.value})}\n        required\n      />\n      <input\n        type=\"password\"\n        placeholder=\"Password\"\n        className=\"w-full p-2 border rounded\"\n        value={loginData.password}\n        onChange={(e) => setLoginData({...loginData, password: e.target.value})}\n        required\n      />\n      <button \n        type=\"submit\" \n        className=\"w-full p-2 bg-blue-600 text-white rounded disabled:bg-blue-400\"\n        disabled={isLoading}\n      >\n        {isLoading ? 'Logging in...' : 'Login'}\n      </button>\n    </form>\n  );\n};\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}