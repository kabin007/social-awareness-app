{"ast":null,"code":"var _jsxFileName = \"/home/kabin/Desktop/social-awareness-app/frontend/src/components/CampaignCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { User, LogOut, Bell, Search, PlusCircle, ThumbsUp, MessageCircle, Share2, Calendar } from 'lucide-react';\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from './ui/card';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { Button } from './ui/button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CampaignCard = ({\n  campaign,\n  currentUserId\n}) => {\n  _s();\n  const [isJoining, setIsJoining] = useState(false);\n  const [isMember, setIsMember] = useState(false);\n  const handleJoinCampaign = async () => {\n    try {\n      setIsJoining(true);\n      const response = await fetch('/api/campaign-members', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          campaign_id: campaign._id,\n          user_id: currentUserId,\n          role: 'member'\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to join campaign');\n      }\n      const data = await response.json();\n      setIsMember(true);\n      // We'll implement a simpler toast message for now\n      alert(\"Successfully joined the campaign!\");\n    } catch (error) {\n      alert(\"Failed to join campaign. Please try again.\");\n    } finally {\n      setIsJoining(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"w-full max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        className: \"text-xl font-bold\",\n        children: campaign.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Category: \", campaign.category]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-4\",\n        children: campaign.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), campaign.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: campaign.image_url,\n        alt: campaign.title,\n        className: \"w-full h-48 object-cover rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: campaign.creator_id.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Ends: \", new Date(campaign.end_date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(ThumbsUp, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Share2, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleJoinCampaign,\n        disabled: isJoining || isMember,\n        variant: isMember ? \"secondary\" : \"default\",\n        children: isJoining ? 'Joining...' : isMember ? 'Joined' : 'Join Campaign'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(CampaignCard, \"LokUebDjxbi+0GT7nxLWyqf/7rs=\");\n_c = CampaignCard;\nexport default CampaignCard;\nvar _c;\n$RefreshReg$(_c, \"CampaignCard\");","map":{"version":3,"names":["React","useState","User","LogOut","Bell","Search","PlusCircle","ThumbsUp","MessageCircle","Share2","Calendar","Card","CardHeader","CardTitle","CardContent","CardFooter","Dialog","DialogContent","DialogHeader","DialogTitle","DialogTrigger","Button","jsxDEV","_jsxDEV","CampaignCard","campaign","currentUserId","_s","isJoining","setIsJoining","isMember","setIsMember","handleJoinCampaign","response","fetch","method","headers","body","JSON","stringify","campaign_id","_id","user_id","role","ok","Error","data","json","alert","error","className","children","title","fileName","_jsxFileName","lineNumber","columnNumber","category","description","image_url","src","alt","size","creator_id","name","Date","end_date","toLocaleDateString","onClick","disabled","variant","_c","$RefreshReg$"],"sources":["/home/kabin/Desktop/social-awareness-app/frontend/src/components/CampaignCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { User, LogOut, Bell, Search, PlusCircle, ThumbsUp, MessageCircle, Share2, Calendar } from 'lucide-react';\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardContent,\n  CardFooter,\n} from './ui/card';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from './ui/dialog';\nimport { Button } from './ui/button';\n\nconst CampaignCard = ({ campaign, currentUserId }) => {\n  const [isJoining, setIsJoining] = useState(false);\n  const [isMember, setIsMember] = useState(false);\n\n  const handleJoinCampaign = async () => {\n    try {\n      setIsJoining(true);\n\n      const response = await fetch('/api/campaign-members', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          campaign_id: campaign._id,\n          user_id: currentUserId,\n          role: 'member'\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to join campaign');\n      }\n\n      const data = await response.json();\n      setIsMember(true);\n      // We'll implement a simpler toast message for now\n      alert(\"Successfully joined the campaign!\");\n\n    } catch (error) {\n      alert(\"Failed to join campaign. Please try again.\");\n    } finally {\n      setIsJoining(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md mx-auto\">\n      <CardHeader>\n        <CardTitle className=\"text-xl font-bold\">{campaign.title}</CardTitle>\n        <div className=\"text-sm text-gray-500\">Category: {campaign.category}</div>\n      </CardHeader>\n\n      <CardContent>\n        <p className=\"text-gray-700 mb-4\">{campaign.description}</p>\n        {campaign.image_url && (\n          <img\n            src={campaign.image_url}\n            alt={campaign.title}\n            className=\"w-full h-48 object-cover rounded-md\"\n          />\n        )}\n        \n        <div className=\"mt-4 flex flex-col gap-2\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <User size={16} />\n            <span>{campaign.creator_id.name}</span>\n          </div>\n          \n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <Calendar size={16} />\n            <span>Ends: {new Date(campaign.end_date).toLocaleDateString()}</span>\n          </div>\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"flex justify-between items-center\">\n        <div className=\"flex gap-4\">\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <ThumbsUp size={18} />\n            <span>Like</span>\n          </button>\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <MessageCircle size={18} />\n            <span>Comment</span>\n          </button>\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <Share2 size={18} />\n            <span>Share</span>\n          </button>\n        </div>\n\n        <Button\n          onClick={handleJoinCampaign}\n          disabled={isJoining || isMember}\n          variant={isMember ? \"secondary\" : \"default\"}\n        >\n          {isJoining ? 'Joining...' : isMember ? 'Joined' : 'Join Campaign'}\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n};\n\nexport default CampaignCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}