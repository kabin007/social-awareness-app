{"ast":null,"code":"var _jsxFileName = \"/home/kabin/Desktop/social-awareness-app/frontend/src/components/CampaignCard.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { User, LogOut, Bell, Search, PlusCircle, ThumbsUp, MessageCircle, Share2, Calender } from 'lucide-react';\nimport { Card, CardHeader, CardTitle, CardContent, CardFooter } from './ui/card';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from './ui/dialog';\nimport { Button } from './ui/button';\nimport { toast } from './ui/use-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CampaignCard = ({\n  campaign,\n  currentUserId\n}) => {\n  _s();\n  const [isJoining, setIsJoining] = useState(false);\n  const [isMember, setIsMember] = useState(false);\n  const handleJoinCampaign = async () => {\n    try {\n      setIsJoining(true);\n      const response = await fetch('/api/campaign-members', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          campaign_id: campaign._id,\n          user_id: currentUserId,\n          role: 'member'\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to join campaign');\n      }\n      const data = await response.json();\n      setIsMember(true);\n      toast({\n        title: \"Success!\",\n        description: \"You've successfully joined the campaign\"\n      });\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to join campaign. Please try again.\",\n        variant: \"destructive\"\n      });\n    } finally {\n      setIsJoining(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"w-full max-w-md mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n        className: \"text-xl font-bold\",\n        children: campaign.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500\",\n        children: [\"Category: \", campaign.category]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-700 mb-4\",\n        children: campaign.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), campaign.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: campaign.image_url,\n        alt: campaign.title,\n        className: \"w-full h-48 object-cover rounded-md\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-col gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: campaign.creator_id.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Ends: \", new Date(campaign.end_date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n      className: \"flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(ThumbsUp, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Like\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Comment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center gap-1 text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Share2, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Share\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleJoinCampaign,\n        disabled: isJoining || isMember,\n        className: `px-4 py-2 rounded-md ${isMember ? 'bg-green-500 hover:bg-green-600' : 'bg-blue-500 hover:bg-blue-600'} text-white`,\n        children: isJoining ? 'Joining...' : isMember ? 'Joined' : 'Join Campaign'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(CampaignCard, \"LokUebDjxbi+0GT7nxLWyqf/7rs=\");\n_c = CampaignCard;\nexport default CampaignCard;\nvar _c;\n$RefreshReg$(_c, \"CampaignCard\");","map":{"version":3,"names":["React","useState","User","LogOut","Bell","Search","PlusCircle","ThumbsUp","MessageCircle","Share2","Calender","Card","CardHeader","CardTitle","CardContent","CardFooter","Dialog","DialogContent","DialogHeader","DialogTitle","DialogTrigger","Button","toast","jsxDEV","_jsxDEV","CampaignCard","campaign","currentUserId","_s","isJoining","setIsJoining","isMember","setIsMember","handleJoinCampaign","response","fetch","method","headers","body","JSON","stringify","campaign_id","_id","user_id","role","ok","Error","data","json","title","description","error","variant","className","children","fileName","_jsxFileName","lineNumber","columnNumber","category","image_url","src","alt","size","creator_id","name","Calendar","Date","end_date","toLocaleDateString","onClick","disabled","_c","$RefreshReg$"],"sources":["/home/kabin/Desktop/social-awareness-app/frontend/src/components/CampaignCard.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { User, LogOut, Bell, Search, PlusCircle, ThumbsUp, MessageCircle, Share2 ,Calender} from 'lucide-react';\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardContent,\n  CardFooter,\n} from './ui/card';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from './ui/dialog';\nimport { Button } from './ui/button';\nimport { toast } from './ui/use-toast';\n\nconst CampaignCard = ({ campaign, currentUserId }) => {\n  const [isJoining, setIsJoining] = useState(false);\n  const [isMember, setIsMember] = useState(false);\n\n  const handleJoinCampaign = async () => {\n    try {\n      setIsJoining(true);\n\n      const response = await fetch('/api/campaign-members', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          campaign_id: campaign._id,\n          user_id: currentUserId,\n          role: 'member'\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to join campaign');\n      }\n\n      const data = await response.json();\n      setIsMember(true);\n      toast({\n        title: \"Success!\",\n        description: \"You've successfully joined the campaign\",\n      });\n\n    } catch (error) {\n      toast({\n        title: \"Error\",\n        description: \"Failed to join campaign. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsJoining(false);\n    }\n  };\n\n  return (\n    <Card className=\"w-full max-w-md mx-auto\">\n      <CardHeader>\n        <CardTitle className=\"text-xl font-bold\">{campaign.title}</CardTitle>\n        <div className=\"text-sm text-gray-500\">Category: {campaign.category}</div>\n      </CardHeader>\n\n      <CardContent>\n        <p className=\"text-gray-700 mb-4\">{campaign.description}</p>\n        {campaign.image_url && (\n          <img\n            src={campaign.image_url}\n            alt={campaign.title}\n            className=\"w-full h-48 object-cover rounded-md\"\n          />\n        )}\n        \n        <div className=\"mt-4 flex flex-col gap-2\">\n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <User size={16} />\n            <span>{campaign.creator_id.name}</span>\n          </div>\n          \n          <div className=\"flex items-center gap-2 text-sm text-gray-600\">\n            <Calendar size={16} />\n            <span>Ends: {new Date(campaign.end_date).toLocaleDateString()}</span>\n          </div>\n        </div>\n      </CardContent>\n\n      <CardFooter className=\"flex justify-between items-center\">\n        <div className=\"flex gap-4\">\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <ThumbsUp size={18} />\n            <span>Like</span>\n          </button>\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <MessageCircle size={18} />\n            <span>Comment</span>\n          </button>\n          <button className=\"flex items-center gap-1 text-gray-600\">\n            <Share2 size={18} />\n            <span>Share</span>\n          </button>\n        </div>\n\n        <Button\n          onClick={handleJoinCampaign}\n          disabled={isJoining || isMember}\n          className={`px-4 py-2 rounded-md ${\n            isMember \n              ? 'bg-green-500 hover:bg-green-600' \n              : 'bg-blue-500 hover:bg-blue-600'\n          } text-white`}\n        >\n          {isJoining ? 'Joining...' : isMember ? 'Joined' : 'Join Campaign'}\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n};\n\nexport default CampaignCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}